<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>学生信息管理</title>
    <link rel="stylesheet" href="/static/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/dist/css/fresh-bootstrap-table.css">
    <link rel="stylesheet" href="/static/plugins/sweetalert2/sweet-alert.css">
    <link rel="author" href="humans.txt">
    <script src="/static/dist/jquery/jquery-1.9.1.min.js"></script>
    <script src="/static/dist/js/bootstrap.min.js"></script>
    <script src="/static/dist/js/bootstrap-table.js"></script>
    <script src="/static/js/common.js"></script>
    <script src="/static/dist/js/bootstrap-paginator.min.js"></script>
    <meta http-equiv="Content-Type" content="multipart/form-data;charset=utf-8"/>
    <script src="/static/plugins/sweetalert2/sweet-alert.js" type="text/javascript" charset="UTF-8"></script>
    <script src="/static/plugins/sweetalert2/es6-promise.min.js"></script>
    <style type="text/css" media="screen">
        .container {
            /* background:red;
            height:200px; */
        }

        .table th, .table td {
            text-align: center;
            height: 38px;
        }

        .modal-content {
            background: #53A7F0;
        }

        .row {
            margin: 15px 15px;
            display: none;
        }

        body {
            background: url(/static/login/img/bj.jpg) no-repeat center fixed;
            background-size: cover;
        }

        .table tbody tr td {
            vertical-align: middle;
        }
    </style>
</head>
<body style="">
<div class="container">
    <div style="margin-top: 15px; ">
        <p class=" text-center" style=" font-size: 30px">
            沐风快递管理系统</p>
    </div>

    <nav class="navbar navbar-default" style="margin-top: -4px; height: 12px;">

        <div class="navber-header" >

            <a href="#" class="navbar-brand"><img src="/static/dist/img/wind.png" height="100%" alt=""></a>
            <button type="button" class="navbar-toggle collapsed" data-toggle='collapse' data-target='#myNavbar'
                    aria-expanded="false">

                <span class="sr-only"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>

            </button>
        </div>
        <div id="myNavbar" class="collapse navbar-collapse" style="top: 100px;">
            <ul class="nav navbar-nav">
                <li><a href="/login/express">首页</a></li>
                <li><a href="/login/expressInto">快递单号录入</a></li>
                <li><a href="/login/expressOut">快递取件</a></li>
                <li><a href="/login/expressSearch">快递查询</a></li>
                <li class="active"><a href="/login/expressShow">快递单号展示</a></li>
                <li ><a href="setting">配置</a></li>
            </ul>

            <ul class="nav navbar-nav navbar-right">
                <li><a href="#" class="">英雄攻略</a></li>

            </ul>
            <form action="导航栏_submit" class="navbar-form navbar-right" method="get" accept-charset="utf-8">
                <div class="form-group">
                    <input type="text" name="" class="form-control" value="" placeholder="">
                </div>
                <div class="form-group">
                    <button type="" class="btn btn-default">
                        <span class="glyphicon glyphicon-search"></span>
                    </button>
                </div>
            </form>
        </div>
    </nav>
    <form class="form-inline">
        <div class="form-group">
            <label for="mobile">手机号码：</label>
            <input type="text" class="form-control" id="mobile" placeholder="请输入手机号">
        </div>
        <div class="form-group">
            <label for="number">快递单号：</label>
            <input type="text" class="form-control" id="number" placeholder="请输入快递单号">
        </div>
        <div class="form-group">
            <!--<label for="eCompany">快递公司：</label>-->
            <!--<input type="text" class="form-control" id="eCompany" placeholder="请输入日期">-->
            <!--<div class="form-group has-warning ">-->
                <label class=" control-label" for="">快递公司名称:</label>
                <!--<div class="col-sm-3">-->
                <select name="" id="companyOption" class="form-control">
                    <!--<option value=""></option>-->

                    <!--<option value="1">韵达快递</option>-->
                    <!--<option value="2">中通</option>-->
                    <!--<option value="3">申通</option>-->
                    <!--<option value="4">圆通</option>-->
                    <!--<option value="5">京东</option>-->
                    <!--<option value="6">天猫</option>-->
                    <!--<option value="7">唯品会</option>-->
                </select>
                <!--</div>-->
            <!--</div>-->
        </div>
        <div class="checkbox" style="margin-left: 10px;">
            <label>
                <input type="checkbox" name="eState">已取件
            </label>
        </div>
        <!--<div class="radio" style="margin-left: 10px;" >-->
        <!--<label>-->
        <!--<input type="radio" name="optionsRadios" id="optionsRadios1" value="option1" checked>-->
        <!--时间倒序-->
        <!--</label>-->
        <!--</div>-->
        <div class="radio" style="margin-left: 10px;">
            <label>
                <input type="checkbox" name="tState" id="optionsRadios2">
                时间升序
            </label>
            <!--<button class="btn btn-primary" id="search_btn">查询</button>-->
        </div>

        <!--<button onclick="showExpress()" style="margin-left: 10px;" ><span></span></button>-->
        <!--<button style="margin-left: 54%; margin-top: -87px;" type="" class="btn btn-primary" onclick="loadExpress()">-->
        <!--<span class="glyphicon glyphicon-send"></span>-->
        <!--</button>-->
        <!--<div class="col-sm-1 col-sm-offset-4">-->
        <!--</div>-->
    </form>

    <div class="table-responsive bs-example" style="margin-top: 15px; background: #F5F5F5; height: 500px;">
        <table id="mytab" class="table table-hover">
            <!--<thead>-->
            <!--<tr style="halign:center;">-->
            <!--<th id="eNum" data-field="expressNumber" data-sortable="true">-->
            <!--单号-->
            <!--</th>-->
            <!--<th id="eCom" data-field="eCompany" >-->
            <!--快递公司-->
            <!--</th>-->
            <!--<th id="eTime" data-field="enteringTime">-->
            <!--入库时间-->
            <!--</th>-->
            <!--<th id="gTime" data-field="getTime" >-->
            <!--出库时间-->
            <!--</th>-->
            <!--<th id="eMobile" data-field="ePhone" >-->
            <!--联系电话-->
            <!--</th>-->
            <!--&lt;!&ndash;<th id="eOper" data-field="ID" data-sortable="true">&ndash;&gt;-->
            <!--&lt;!&ndash;操作&ndash;&gt;-->
            <!--&lt;!&ndash;</th>&ndash;&gt;-->
            <!--</tr>-->
            <!--</thead>-->
        </table>
    </div>
    <div id="Paginator" style="text-align: center">
        <ul id="pageLimit"></ul>
    </div>

</div>

</div>
<script src="http://pv.sohu.com/cityjson?ie=utf-8"></script>
<script type="text/javascript">
    // document.write(returnCitySN["cip"]+','+returnCitySN["cname"])
    $(document).ready(function () {
        var returnCitySN2 = returnCitySN["cip"];
        $('#ip').text(returnCitySN2);
        var returnCitySN3 = returnCitySN["cname"];
        // loadTable();
        laodCompany();
        // $('#cityId').val(returnCitySN3);
    });
</script>
</body>
<script>

    // var currentPage;
    // var pageSize;

    s = 0;
    v = 2;
    sobj = setInterval(function () {
        s += v;
        if (s >= 100) {
            clearInterval(sobj);
        }
        ;
        $("#prgressBar").html(s + '%').css({
            'width': s + '%'
        });
    }, 100);

    // $('#pageLimit').bootstrapPaginator({
    //     currentPage: 1,
    //     totalPages: 2,
    //     size: "normal",
    //     bootstrapMajorVersion: 3,
    //     alignment: "right",
    //     numberOfPages: 10,
    //     itemTexts: function (type, page, current) {
    //         switch (type) {
    //             case "first":
    //                 return "首页";
    //             case "prev":
    //                 return "上一页";
    //             case "next":
    //                 return "下一页";
    //             case "last":
    //                 return "末页";
    //             case "page":
    //                 return page;
    //         }
    //     }
    // });
    $(function () {
        //1.初始化Table
        var oTable = new TableInit();
        oTable.Init();
    });

    function showExpress() {

        // alert("选择的快递号 " + number+ "");
        // alert("选择的公司 " + eCompany+ "");
        // alert("排序 " + tState+ "");
        // alert("取件状态 " + eState+ "");
        // loadTable();
        var oTable = new TableInit();
        oTable.Init();
    }

    var TableInit = function () {
        var oTableInit = new Object();
        oTableInit.Init = function () {
            $('#mytab').bootstrapTable({
                // url :  location.protocol + "/express/showExpress?mobile=" + mobile + "&&number" + number + "&&eCompany" + eCompany + "&&eState" + eState + "&&tState" + tState  ,//请求路径
                url: location.protocol + "/express/showExpress",
                method: 'get',
                striped: true, //是否显示行间隔色
                cache: false,                       //是否使用缓存，默认为true，所以一般情况下需要设置一下这个属性（*）
                pagination: true,//是否分页
                sortable: false,                     //是否启用排序
                sortOrder: "asc",                   //排序方式
                queryParams: oTableInit.queryParams,//传递参数（*）
                pageNumber: 1, //初始化加载第一页
                sidePagination: 'client',//server:服务器端分页|client：前端分页
                pageSize: 10,//单页记录数
                pageList: [10, 25, 50, 100],        //可供选择的每页的行数（*）
                // uniqueId: "yes",                     //每一行的唯一标识，一般为主键列
                showRefresh: true,//刷新按钮
                columns: [{
                    title: '单号',
                    field: 'expressNumber',
                    // sortable : true
                }, {
                    title: '快递公司',
                    field: 'eCompany',
                    // sortable: true
                }, {
                    title: '入库时间',
                    field: 'enteringTime',
                    sortable : true

                }, {
                    title: '出库时间',
                    field: 'getTime',
                    // formatter : formatSex,//对返回的数据进行处理再显示
                }, {
                    title: '联系电话',
                    field: 'ePhone',
                    // formatter : formatSex,//对返回的数据进行处理再显示
                }, {
                    title: '操作',
                    field: 'expressNumber',
                    formatter: operation,//对资源进行操作
                }]
            })
        };
        oTableInit.queryParams = function (params) {
            var mobile = $('#mobile').val();
            var number = $('#number').val();
            // var eCompany = $('#eCompany').val();
            var eCompany =$("#companyOption option:selected").val();
            var eState = $("input[name='eState']:checked").val();
            var tState = $("input[name='tState']:checked").val();
            if (eState == null) {
                // alert("快");
                eState = 1;
            } else {
                eState = 0;
            }
            if (eCompany == 0){
                eCompany = "";
            }
            if (tState != null) {
                tState = "desc";
            } else {
                tState = "ASC";
            }
            var temp = {   //这里的键的名字和控制器的变量名必须一直，这边改动，控制器也需要改成一样的
                limit: params.limit,   //页面大小
                offset: params.offset,
                mobile: mobile,
                number: number,
                eCompany: eCompany,
                eState: eState,
                tState: tState
            };
            return temp;
        };
        return oTableInit;
    }

    //删除、编辑操作
    function operation(value1, row, index) {
        var htm = "<button onclick='test(value1)'>删除</button><button>修改</button>"
        return htm;
    }

    // function test(value1) {
    //     alert(value + "");
    // }

    //查询按钮事件
    $('#search_btn').click(function () {
        $('#mytab').bootstrapTable('refresh', {
            url: location.protocol + "/express/showExpress"
        });
    })

</script>
</html>